# -*- coding: utf-8 -*-
# !/usr/bin/env python
"""
-------------------------------------------------
   File Name：    settings.py
   Description :  通用设置类
   Author :       Andy Zhong
   date：          2019/12/7
-------------------------------------------------
   Change Activity:
                   2019/12/7:
-------------------------------------------------
"""
__author__ = 'Andy Zhong'


# 作者正则匹配
AUTHOR_PATTERN = [
            "责编[：|:| |丨|/]\s*([\u4E00-\u9FA5a-zA-Z]{2,20})[^\u4E00-\u9FA5|:|：]",
            "责任编辑[：|:| |丨|/]\s*([\u4E00-\u9FA5a-zA-Z]{2,20})[^\u4E00-\u9FA5|:|：]",
            "作者[：|:| |丨|/]\s*([\u4E00-\u9FA5a-zA-Z]{2,20})[^\u4E00-\u9FA5|:|：]",
            "编辑[：|:| |丨|/]\s*([\u4E00-\u9FA5a-zA-Z]{2,20})[^\u4E00-\u9FA5|:|：]",
            "文[：|:| |丨|/]\s*([\u4E00-\u9FA5a-zA-Z]{2,20})[^\u4E00-\u9FA5|:|：]",
            "原创[：|:| |丨|/]\s*([\u4E00-\u9FA5a-zA-Z]{2,20})[^\u4E00-\u9FA5|:|：]",
            "撰文[：|:| |丨|/]\s*([\u4E00-\u9FA5a-zA-Z]{2,20})[^\u4E00-\u9FA5|:|：]",
            "来源[：|:| |丨|/]\s*([\u4E00-\u9FA5a-zA-Z]{2,20})[^\u4E00-\u9FA5|:|：|<]",
            r'<p class="author-name">(.*?)</p>',
]

# 日期正则匹配
DATETIME_PATTERN = [
    "(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[0-1]?[0-9]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[2][0-3]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[0-1]?[0-9]:[0-5]?[0-9])",
    "(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[2][0-3]:[0-5]?[0-9])",
    "(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[1-24]\d时[0-60]\d分)([1-24]\d时)",
    "(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[0-1]?[0-9]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[2][0-3]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[0-1]?[0-9]:[0-5]?[0-9])",
    "(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[2][0-3]:[0-5]?[0-9])",
    "(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2}\s*?[1-24]\d时[0-60]\d分)([1-24]\d时)",
    "(\d{4}年\d{1,2}月\d{1,2}日\s*?[0-1]?[0-9]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{4}年\d{1,2}月\d{1,2}日\s*?[2][0-3]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{4}年\d{1,2}月\d{1,2}日\s*?[0-1]?[0-9]:[0-5]?[0-9])",
    "(\d{4}年\d{1,2}月\d{1,2}日\s*?[2][0-3]:[0-5]?[0-9])",
    "(\d{4}年\d{1,2}月\d{1,2}日\s*?[1-24]\d时[0-60]\d分)([1-24]\d时)",
    "(\d{2}年\d{1,2}月\d{1,2}日\s*?[0-1]?[0-9]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{2}年\d{1,2}月\d{1,2}日\s*?[2][0-3]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{2}年\d{1,2}月\d{1,2}日\s*?[0-1]?[0-9]:[0-5]?[0-9])",
    "(\d{2}年\d{1,2}月\d{1,2}日\s*?[2][0-3]:[0-5]?[0-9])",
    "(\d{2}年\d{1,2}月\d{1,2}日\s*?[1-24]\d时[0-60]\d分)([1-24]\d时)",
    "(\d{1,2}月\d{1,2}日\s*?[0-1]?[0-9]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{1,2}月\d{1,2}日\s*?[2][0-3]:[0-5]?[0-9]:[0-5]?[0-9])",
    "(\d{1,2}月\d{1,2}日\s*?[0-1]?[0-9]:[0-5]?[0-9])",
    "(\d{1,2}月\d{1,2}日\s*?[2][0-3]:[0-5]?[0-9])",
    "(\d{1,2}月\d{1,2}日\s*?[1-24]\d时[0-60]\d分)([1-24]\d时)",
    "(\d{4}[-|/|.]\d{1,2}[-|/|.]\d{1,2})",
    "(\d{2}[-|/|.]\d{1,2}[-|/|.]\d{1,2})",
    "(\d{4}年\d{1,2}月\d{1,2}日)",
    "(\d{2}年\d{1,2}月\d{1,2}日)",
    "(\d{1,2}月\d{1,2}日)"
]

# 标题正则匹配
TITLE_PATTERN = [
    "<title>(.*?)</title>",
    "<h1>(.*?)</h1>",
    "<h2>(.*?)</h2>",
    "<h3>(.*?)</h3>",
    "<h4>(.*?)</h4>",
]

# 注释正则匹配
ANNOTATION_PATTERN = [
    "(<!--(.*?)-->)"
]

# 图片匹配
IMAGE_PATTERN = [
    # r"< *[img][^\>]*[src] *= *[\"\']{0,1}([^\"\'\ >]*)",
    r'<*[img][^\>]*[src]="(.*?)"\s*',
]

# 邮箱正则匹配
EMAIL_PATTERN = [
    "^[*#\u4e00-\u9fa5 a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$",
    "([\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?)",
    "[a-zA-Z0-9]{1,64}@[a-zA-Z0-9]{1,64}(.net|.cn|.com.cn|.com|.org|.edu.cn)",
    "([a-z0-9\.\-+_]+@[a-z0-9\.\-+_]+\.[a-z]+)",
]

# 手机正则匹配
PHONE_PATTERN = [
    "^((13[0-9])|(14[0-9])|(15[0-9])|(17[0-9])|(18[0-9])|(19[0-9]))\d{8}$",
    "^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$",
    "^((13[0-9])|(14[0-9])|(15[0-9])|(17[0-9])|(18[0-9]))\d{8}$",
    "(^1\d{10}$)",
    "(\d{2}[+-]1\d{10})",
]

# 固定电话正则匹配
TELEPHONE_PATTEN = [
    "(^\(?0\d{2,3}[)-]?\d{7,8}$)",
    "[0-9-()（）]{7,18}",
    "(\d{3}|\(\d{3}\))-\d{3}-\d{4}(\s{0,5}(ext|x|ext.|\#)\s{0,5}\d{1,10})?",
    "(\d{4}-\d{7}|\d{3}-\d{8})",
    "(\d{2}[+-]\d{4}-\d{7}|\d{3}-\d{8})",

]

# IP匹配
IP_PATTERN = [
    "(\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b)",
    "([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])",
    "^(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}$",
    "(?<![:.\w])(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}(?![:.\w])",
]

# 身份证正则匹配
IDCARDS_PATTERN = [
    "^([1-9]\d{5}[12]\d{3}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])\d{3}[0-9xX])$",
    # 15位
    "^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$",
    # 18位
    "^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$"
]

# url正则匹配
URL_PATTERN = [
    "(http[s]?://(?:[a-zA-Z]|[0-9]|[$-_@.&+]|[!*,]|(?:%[0-9a-fA-F][0-9a-fA-F]))+)|([a-zA-Z]+.\w+\.+[a-zA-Z0-9\/_]+)",
]

# 汉字匹配
CHINESE_PATTERN = [
    "[\u4E00-\u9FA5]{1,10}"
]

HTML_CLEAN_PATTERN = [
    r"<script|\/script>|<div|\/div>|<li|\/li>|<div|\/div>|html|body|<|>"
]

VIDEO_TYPE_LIST = [
    ".rm",".rmvb",".mk",".mkv",".mpg",".mpeg",".avi",
    ".mp4",".mp3",".wma",".dat",".mv",".mov",".3gp",".asf"
]

FILE_TYPE_LIST = [
    ".doc", ".docx", ".ppt", ".txt", ".pdf", ".xls",
    "word", ".wps", ".zip", ".rar"
]

IMAGE_TYPE_LIST = [
    ".jpg", ".jpeg", ".tiff", ".raw", ".bmp", ".gif", ".png"
]

GET_IMAGE_PATTERN = [
    r"<div\s*(.*?)\s*\/div>"
]

IMAGE_XPATH_PATTREN = [
    "//div[@id='article']//p//img/@src",
    "//div[@id='article']//img/@src",
    "//div[@class='article-content']//p//img/@src",
    "//div[@class='article-content']//img/@src",
    "//div[starts-with(@class,'main')]//div[@class='img-container']//img/@src",
    "//div[starts-with(@class,'main')]//div[@class='article']//img/@src",
    "//div[starts-with(@class,'article')]//img/@src",
    "//div[@class='content']//div//p//img/@src",
    "//div[@class='content']//div//img/@src",
    "//div[starts-with(@class,'main')]//div[starts-with(@style,'text')]//img/@src"
]

TITLE_SPLIT_CHAR_PATTERN = '[-_|]'

# 提取正文的阈值配置
MIN_PARAGRAPH_LENGHT = 5 # 最小段落长度
MAX_PARAGRAPH_DISTANCE = 5 # 正文段落与段落之间的最大距离 段落之间可能有空白行
MIN_PARAGRAPH_AND_CONTENT_PROPORTION = 0.5 # p标签内的文字长度/正文长度 最小占比
MIN_COUNTENT_WORDS = 500 # 最小文章内容长度
RELEASE_TIME_OFFSET= 10 # 发布时间偏离正文区域的距离， 如正文在 10~28 行 ，发布时间在 (10-RELEASE_TIME_OFFSET) ~ (28 + RELEASE_TIME_OFFSET) 行之内

USEFUL_TAG = [ # html 中需要保留的标签
        r'<img(.|\n)+?>',
        r'<p(.|\n)*?>',
        r'</p>',
        r'<span(.|\n)+?>',
        r'</span>',
        r'<strong.*?>',
        r'</strong>',
        r'<br.*?/>'
    ]